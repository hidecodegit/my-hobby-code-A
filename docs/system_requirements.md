# SYS.1 システム要件分析（System Requirements Analysis）
これは V字モデル SYS.1 の正式成果物です。
ステークホルダー要求を検証可能なシステム要件に変換したものです。

**最終更新**: 2025-12-06（Hideo, Grok & Gemini 共同確定）

### 改訂履歴
| 日付         | 変更者               | 変更内容                                   |
|--------------|----------------------|--------------------------------------------|
| 2025-12-06   | Hideo, Grok, Gemini  | 7列化、Notes削除、合格基準・検証方法明確化、国際標準名称統一 |
| 2025-12-05   | Hideo                | FR/NFRテーブル完成、トレーサビリティマトリクス分離 |
| 2025-10-31   | Hideo & Grok         | 初期REQ-01/02定義                          |

### 用語集（本ドキュメント固有）
- **7月データ**：192件の過去センサーデータ（秒なし形式）。後方互換性のベースライン。
- **Drive**：Google Drive（rclone同期先）

### 機能要件（FR）／非機能要件（NFR）

| 要件ID   | 分類 | 説明                                                                 | 優先度 | ステータス | 合格基準（Pass Criteria）                                      | 検証方法（成果物）               |
|----------|------|----------------------------------------------------------------------|--------|------------|----------------------------------------------------------------|--------------------------------|
| REQ-01   | FR   | AHT25センサーから温度・湿度を15分間隔で取得し、ローカルファイルに保存 | High   | [x]        | 24時間連続稼働で欠測ゼロ、時刻誤差±5秒以内                    | `system-tests.md`              |
| REQ-01.1 | NFR  | タイムスタンプはJST、秒の有無が混在しても正しくパース可能           | High   | [x]        | 7月データ（秒なし）と最新データ（秒あり）の両方100%正しくパース | `unit-tests.md`                |
| REQ-02   | FR   | 収集データをGoogle Driveにアップロード（最新即時＋全履歴2時間毎、月替り自動切替） | High   | [p]        | ネットワーク正常時：平均45秒以内、99%タイル60秒以内（E2E100回） | `integration-tests.md`         |
| REQ-02.1 | NFR  | 全履歴アップロードは2時間毎、月替りは00:00 JSTに自動切替           | Medium | [p]        | 2時間±5分以内にアップロード成功、月替り当日00:05までに新ファイル生成 | `system-tests.md`              |
| REQ-02.2 | NFR  | アップロード失敗時はSlackアラート                                   | Low    | [ ]        | 失敗発生から5分以内にSlack通知到着                            | `system-tests.md`（障害注入）  |
| REQ-03   | FR   | DriveデータをMySQL(`sensor_data_db`)に取り込み、Macで折れ線グラフ可視化（異常値ハイライト） | Medium | [p]        | 192件データで描画時間10秒以内、異常値（例：temp&gt;40℃）が視覚的に強調 | `integration-tests.md` + 手動確認 |
| REQ-03.1 | NFR  | 可視化性能・異常値検出精度                                          | Medium | [p]        | 描画&lt;10秒、異常値検出精度95%以上                              | `integration-tests.md`         |
| REQ-04   | FR   | GitHub ActionsでCI/CD自動化（pytest実行・RPiデプロイ）             | Medium | [ ]        | mainプッシュ後5分以内にRPiへ自動デプロイ完了                   | `product-acceptance.md`        |
| REQ-04.2 | NFR  | 旧月データは自動圧縮アーカイブ（将来拡張）                          | Low    | [ ]        | アーカイブ生成時間&lt;30秒、復元正確性100%                        | `system-tests.md`（拡張テスト）|

*ステータス凡例: [x]=完了, [p]=進行中, [ ]=未着手*

### トレーサビリティ
双方向トレーサビリティは別ファイル `traceability_matrix.md` で管理します。